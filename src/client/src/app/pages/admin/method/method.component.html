<div class="service">
  <div class="form">
    <div class="search">
      <mat-form-field>
        <input matInput placeholder="Tên dịch vụ" />
      </mat-form-field>
      <button mat-flat-button color="primary">Tìm kiếm</button>
    </div>
    <div class="add">
      <button mat-flat-button color="primary" (click)="onShowAddDialog()">
        Thêm
      </button>
    </div>
  </div>
  <div class="list">
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col" width="100">#</th>
          <th scope="col">Name</th>
          <!-- <th scope="col">Description</th> -->
          <th scope="col" class="text-right">Discount</th>
          <th scope="col" class="text-center">EnableDiscount</th>
          <th scope="col" class="text-center" width="100">Type</th>
          <th scope="col" class="text-center" width="100">Sort Order</th>
          <th scope="col" width="150"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dataSource; let i = index">
          <th scope="row">{{ i + 1 }}</th>
          <td>{{ item.name }}</td>
          <!-- <td>{{ item.description }}</td> -->
          <td class="text-right">{{ item.discount }}</td>
          <td class="text-center">{{ item.enableDiscount }}</td>
          <td class="text-center">{{ item.type }}</td>
          <td class="text-center">{{ item.sortOrder }}</td>
          <td>
            <div class="action text-center">
              <button type="button" class="btn btn-primary btn-sm" (click)="onShowEditDialog(item)">
                <i class="fa fa-edit"></i>
              </button>
              <button type="button" class="btn btn-sm btn-outline-danger" (click)="onDeleteClick(item)">
                <i class="fa fa-trash"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<p-dialog header="Thêm mới giá dịch vụ" [(visible)]="display" [modal]="true" [responsive]="true"
  [style]="{ width: '959px' }" [maximizable]="true">
  <form [formGroup]="formControls">
    <div class="form-group row">
      <label for="name" class="col-sm-2 col-form-label required">Tên hình thức</label>
      <div class="col-sm-6">
        <input formControlName="name" class="form-control" id="name" placeholder="Tên hình thức" />
        <div class="error" *ngIf="submitted && controls.name.errors">
          <label *ngIf="controls.name.errors.required">Tên hình thức bắt buộc nhập.</label>
        </div>
      </div>
      <div class="col-sm-4">
        <p-dropdown [options]="methodTypes" optionLabel="value" formControlName="type" placeholder="Chọn loại hình">
        </p-dropdown>
        <div class="error" *ngIf="submitted && controls.type.errors">
          <label *ngIf="controls.type.errors.required">Loại hình bắt buộc nhập.</label>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="description" class="col-sm-2 col-form-label">Mô tả</label>
      <div class="col-sm-10">
        <textarea formControlName="description" class="form-control" id="description" rows="5"></textarea>
        <div class="error" *ngIf="submitted && controls.description.errors">
          <label *ngIf="controls.description.errors.required">Mô tả bắt buộc nhập.</label>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="sortOrder" class="col-sm-2 col-form-label required">Sắp xếp</label>
      <div class="col-sm-10">
        <div class="row">
          <div class="col-sm-4">
            <input formControlName="sortOrder" class="form-control" id="sortOrder" type="number" min="0" />
          </div>
          <div class="col-sm-8">
            <div class="form-check">
              <label class="form-check-label" for="enableDiscount">
                <input formControlName="enableDiscount" class="form-check-input" id="enableDiscount" type="checkbox" />
                Kích hoạt giảm giá
              </label>
            </div>
          </div>
        </div>

        <div class="error" *ngIf="submitted && controls.sortOrder.errors">
          <label *ngIf="controls.sortOrder.errors.required">Sắp xếp bắt buộc nhập.</label>
        </div>
      </div>
    </div>
  </form>
  <p-footer>
    <button type="button" class="btn btn-primary" color="primary" (click)="onSaveClick()">
      Save
    </button>
    <button type="button" class="btn btn-default" (click)="display = false">
      Cancal
    </button>
  </p-footer>
</p-dialog>